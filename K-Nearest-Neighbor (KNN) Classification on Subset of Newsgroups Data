{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## K-Nearest-Neighbor (KNN) Classification on Subset of Newsgroups Data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Data Set Information\n",
    "For this problem I will use a subset of the 20 Newsgroup data set taken from http://mlg.ucd.ie/content/view/22/. The original full data set contains 20,000 newsgroup documents, partitioned (nearly) evenly across 20 different newsgroups and has been often used for experiments in text applications of machine learning techniques, such as text classification and text clustering. \n",
    "\n",
    "The data set for this problem contains a subset of 1000 documents and a vocabulary of  terms. Each document belongs to one of two classes Hockey (class label 1) and Microsoft Windows (class label 0). The data has already been split (80%, 20%) into training and test data. The class labels for the training and test data are also provided in separate files. The training and test data contain a row for each term in the vocabulary and a column for each document. The values in the table represent raw term frequencies. The data has already been preprocessed to extract terms, remove stop words and perform stemming (so, the vocabulary contains stems not full terms)."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### File Information\n",
    "The files contained in the archive file are as follows:\n",
    "\n",
    "1. trainMatrixModified.txt: the term-document frequency matrix for the training documents. Each row of this matrix corresponds to one of the terms and each column corresponds to one the documents and the (i,j)th element of the matrix shows the frequency of the ith term in the jth document. This matrix contains 5500 rows and 800 columns.\n",
    "\n",
    "2. testMatrixModified.txt: the term-document frequency for the test documents. The matrix contains 5500 rows and 200 columns.\n",
    "\n",
    "3. trainClasses.txt: This file contains the labels associated with each training document. Each line is in the format of documentIndex \\t classId where the documentIndex is in the range of [0,800) and refers to the index of the document in the term-document frequency matrix for train documents. The classId refers to one of the two classes and takes one of the values 0 (for Windows) or 1 (for Hockey).\n",
    "\n",
    "4. testClasses.txt: This file contains the labels associated with each test document. Each line is in the format of documentIndex \\t classId where the documentIndex is in the range of [0,200) and refers to the index of the document in the term-document frequency matrix for test documents  \n",
    "\n",
    "5. modifiedterms.txt: This file contains the set of 5500 terms in the vocabulary. Each line contains a term and corresponds to the corresponding rows in term-document frequency matrices. \n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### A. Create your own KNN classifier function. The classifier should allow as input the training data matrix, the training labels, the instance to be classified, the value of K, and should return the predicted class for the instance and the top K neighbors. Your classifier should work with Euclidean distance as well as Cosine Similarity. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import pandas as pd\n",
    "import matplotlib.pyplot as plt"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "def K_classifier (x,train,train_labels,k,m):\n",
    "    import operator\n",
    "    if m == \"Euclidean\":\n",
    "        dist=np.sum(((train-x)**2), axis=1)\n",
    "        dist=np.sqrt(dist)\n",
    "    elif m == \"Cosine\":\n",
    "        norm_x=np.linalg.norm(x)\n",
    "        norm_t=np.array([np.linalg.norm(train[i]) for i in range(len(train))])\n",
    "        sim=np.dot(train,x)/(norm_x*norm_t)\n",
    "        dist=1-sim\n",
    "    index=np.argsort(dist)[:k]\n",
    "    label=[train_labels[ind] for ind in index] \n",
    "    dictL={}\n",
    "    dictL[0]=label.count(0)\n",
    "    dictL[1]=label.count(1)\n",
    "    label=sorted(dictL.items(),key=operator.itemgetter(1))[1][0]\n",
    "    return index,label"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### B. Create a function to compute the classification accuracy over the test data set. This function will call the classifier function in A on all the test instances and in each case compares the actual test class label to the predicted class label."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "def validation(test,test_labels,train,train_labels,k,m):\n",
    "    predictedL=[]\n",
    "    for t in test:\n",
    "        index, label=K_classifier(t,train,train_labels,k,m)\n",
    "        predictedL.append(label)\n",
    "    \n",
    "    TestL=[t_labels[0] for t_labels in test_labels]\n",
    "    correct=len([(i,j) for i,j in zip(predictedL,TestL) if i==j])\n",
    "    \n",
    "    accuracy= float(correct) / float(len(test_labels))\n",
    "    return round(accuracy,2)\n",
    "    "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### C. Run the accuracy function on a range of values for K in order to compare accuracy values for different numbers of neighbors. Do this both using Euclidean Distance as well as Cosine similarity measure. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "train_dt=pd.read_csv(\"C:/Users/Rai Chiang/Desktop/DePaul Course/CSC478 data/assignment2/trainMatrixModified.txt\",delimiter=\"\\t\",header=None).T\n",
    "train_dt=np.array(train_dt)\n",
    "\n",
    "test_dt=pd.read_csv(\"C:/Users/Rai Chiang/Desktop/DePaul Course/CSC478 data/assignment2/testMatrixModified.txt\",delimiter=\"\\t\",header=None).T\n",
    "test_dt=np.array(test_dt)\n",
    "\n",
    "train_class=pd.read_csv(\"C:/Users/Rai Chiang/Desktop/DePaul Course/CSC478 data/assignment2/trainClasses.txt\",delimiter=\"\\t\",header=None).iloc[:,1:]\n",
    "train_class=np.array(train_class)\n",
    "\n",
    "test_class=pd.read_csv(\"C:/Users/Rai Chiang/Desktop/DePaul Course/CSC478 data/assignment2/testClasses.txt\",delimiter=\"\\t\",header=None).iloc[:,1:]\n",
    "test_class=np.array(test_class)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "def loop(m):\n",
    "    dicA={}\n",
    "    if m==\"Euclidean\":\n",
    "        for i in range(1,21,2):\n",
    "            dicA[i]=validation(test_dt,test_class,train_dt,train_class,i,\"Euclidean\")\n",
    "        table=pd.DataFrame(dicA.items(),columns=[\"k\",\"accuracy\"])\n",
    "        table.set_index('k', inplace=True)\n",
    "        plot=plt.plot(table)\n",
    "        return table,plot\n",
    "    elif m==\"Cosine\":\n",
    "        for i in range(1,21,2):\n",
    "            dicA[i]=validation(test_dt,test_class,train_dt,train_class,i,\"Cosine\")\n",
    "        table=pd.DataFrame(dicA.items(),columns=[\"k\",\"accuracy\"])\n",
    "        table.set_index('k', inplace=True)\n",
    "        plot=plt.plot(table)\n",
    "        return table,plot\n",
    "               "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(    accuracy\n",
       " k           \n",
       " 1       0.78\n",
       " 3       0.81\n",
       " 5       0.81\n",
       " 7       0.77\n",
       " 9       0.75\n",
       " 11      0.80\n",
       " 13      0.78\n",
       " 15      0.79\n",
       " 17      0.76\n",
       " 19      0.74, [<matplotlib.lines.Line2D at 0x9d24550>])"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#To avoid tide votes, I choose the odd number for K values\n",
    "loop(\"Euclidean\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(    accuracy\n",
       " k           \n",
       " 1       0.98\n",
       " 3       0.97\n",
       " 5       0.97\n",
       " 7       0.98\n",
       " 9       0.97\n",
       " 11      0.98\n",
       " 13      0.98\n",
       " 15      0.98\n",
       " 17      0.97\n",
       " 19      0.97, [<matplotlib.lines.Line2D at 0xe0e6898>])"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "loop(\"Cosine\") "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### D. Using Python, modify the training and test data sets so that term weights are converted to TFxIDF weights (instead of raw term frequencies).Then, rerun the evaluation on the range of K values (as above) and compare the results to the results without using TFxIDF weights.\n",
    "\n",
    "------------------------------------------------\n",
    "According to the experiment results below,the knn clssifier based on Euclidean distance has close range of accuracy from k=1 to 19 whether applying tfidf weight or not. On the other hand, the classifier based on Cosine similaruty has significant difference on the accuracy for k=1 through k=19  when applying the tfidf weight. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "train_td = train_dt.T\n",
    "term = train_td.shape[0]\n",
    "train_dnum = train_td.shape[1]\n",
    "train_df = np.array([(train_td!=0).sum(axis=1)]).T #remember to conver the df into 2d by np.array and transpose for the diversion \n",
    "train_matrix = np.ones(np.shape(train_td),dtype=float)*train_dnum\n",
    "train_idf = np.log2(np.divide(train_matrix,train_df))\n",
    "train_tfidf_td = train_td*train_idf\n",
    "train_tfidf_dt=train_tfidf_td.T #remember to transpose in dt formate for the knn classifier\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "def validation_tfidf(test,test_labels,k,m):\n",
    "    predictedL=[]\n",
    "    for t in test:\n",
    "        t=t*train_idf.T[0] # always use the train set weight to for test set\n",
    "        index, label=K_classifier(t,train_tfidf_dt,train_class,k,m)\n",
    "        predictedL.append(label)\n",
    "    \n",
    "    TestL=[t_labels[0] for t_labels in test_labels]\n",
    "    correct=len([(i,j) for i,j in zip(predictedL,TestL) if i==j])\n",
    "    \n",
    "    accuracy= float(correct) / float(len(test_labels))\n",
    "    return accuracy\n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "def loop_tfidf(m):\n",
    "    dicA={}\n",
    "    if m==\"Euclidean\":\n",
    "        for i in range(1,21,2):\n",
    "            dicA[i]=validation_tfidf(test_dt,test_class,i,\"Euclidean\")\n",
    "        table=pd.DataFrame(dicA.items(),columns=[\"k\",\"accuracy\"])\n",
    "        table.set_index('k', inplace=True)\n",
    "        plot=plt.plot(table)\n",
    "        return table,plot\n",
    "    elif m==\"Cosine\":\n",
    "        for i in range(1,21,2):\n",
    "            dicA[i]=validation_tfidf(test_dt,test_class,i,\"Cosine\")\n",
    "        table=pd.DataFrame(dicA.items(),columns=[\"k\",\"accuracy\"])\n",
    "        table.set_index('k', inplace=True)\n",
    "        plot=plt.plot(table)\n",
    "        return table,plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(    accuracy\n",
       " k           \n",
       " 1      0.710\n",
       " 3      0.750\n",
       " 5      0.800\n",
       " 7      0.730\n",
       " 9      0.680\n",
       " 11     0.680\n",
       " 13     0.650\n",
       " 15     0.620\n",
       " 17     0.615\n",
       " 19     0.630, [<matplotlib.lines.Line2D at 0xa074048>])"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "loop_tfidf(\"Euclidean\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(    accuracy\n",
       " k           \n",
       " 1      0.945\n",
       " 3      0.980\n",
       " 5      0.980\n",
       " 7      0.985\n",
       " 9      0.990\n",
       " 11     0.990\n",
       " 13     0.990\n",
       " 15     0.990\n",
       " 17     0.990\n",
       " 19     0.995, [<matplotlib.lines.Line2D at 0xe64e9e8>])"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "loop_tfidf(\"Cosine\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### E. Create a new classifier based on the Rocchio Method adapted for text categorization.\n",
    "\n",
    "1.Separate the training function from the classifiation function. The training part for the classifier is implemented as a function that takes as input the training data matrix and the training labels, returning the prototype vectors for each class. \n",
    "\n",
    "2.The classification part is implemented as another function that would take as input the prototypes returned from the training function and the instance to be classified. This function should measure Cosine similarity of the test instance to each prototype vector. The output indicates the predicted class for the test instance and the similarity values of the instance to each of the category prototypes. \n",
    "\n",
    "3.Finally, compute the classification accuracy using the test instances and compare your results to the best KNN approach you tried earlier."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "#training fuction\n",
    "def create_prototype(train_data,train_labels):\n",
    "    class_0_index=np.where(train_labels == 0)[0] #return an array of index\n",
    "    class_1_index=np.where(train_labels == 1)[0]\n",
    "    proto_0=np.sum(train_data[class_0_index],axis=0)\n",
    "    proto_1=np.sum(train_data[class_1_index],axis=0)\n",
    "    return np.array([proto_0]), np.array([proto_1])\n",
    "\n",
    "#classification function\n",
    "def classifier_RM(proto0,proto1,test_data,test_labels):\n",
    "    predict=[]\n",
    "    pdict={}\n",
    "    for x in test_data:\n",
    "        x=x*train_idf.T[0] #each instance*tfidf weight\n",
    "        norm_x=np.linalg.norm(x)\n",
    "        norm_p0=np.linalg.norm(proto0)\n",
    "        norm_p1=np.linalg.norm(proto1)\n",
    "        proto1=proto1.reshape(-1) #to multiply x make sure its 1d array\n",
    "        proto0=proto0.reshape(-1)\n",
    "        sim0=np.dot(x,proto0)/(norm_x*norm_p0)\n",
    "        sim1=np.dot(x,proto1)/(norm_x*norm_p1)\n",
    "        sim=max(sim0,sim1)\n",
    "        if sim==sim0:\n",
    "            predict_class=0\n",
    "            pdict[sim]=predict_class\n",
    "            \n",
    "        else:\n",
    "            predict_class=1\n",
    "            pdict[sim]=predict_class\n",
    "            \n",
    "        predict.append(predict_class)\n",
    "    \n",
    "    \n",
    "    table=pd.DataFrame(pdict.items(),index=None,columns=[\"Similarity Value\",\"predicted class\"])\n",
    "    Test=[t_labels[0] for t_labels in test_labels]\n",
    "    correct=len([(i,j) for i,j in zip(predict,Test) if i==j])\n",
    "    accuracy= float(correct) / float(len(test_labels))\n",
    "    print \"Classification Accuracy= %0.2f \\n\"%(accuracy)    \n",
    "    print table"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "prtotype vector1= [[57.  4.  5. ...  1.  2.  2.]]\n",
      "prtotype vector2= [[45.  7. 17. ...  1.  0.  0.]]\n"
     ]
    }
   ],
   "source": [
    "prototype0,prototype1=create_prototype(train_dt,train_class)\n",
    "print \"prtotype vector1=\", prototype0\n",
    "print \"prtotype vector2=\",prototype1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Classification Accuracy= 0.97 \n",
      "\n",
      "     Similarity Value  predicted class\n",
      "0            0.137832                1\n",
      "1            0.081956                1\n",
      "2            0.136454                0\n",
      "3            0.084276                0\n",
      "4            0.130923                1\n",
      "5            0.104997                1\n",
      "6            0.332109                1\n",
      "7            0.069079                0\n",
      "8            0.069452                1\n",
      "9            0.120466                0\n",
      "10           0.063900                1\n",
      "11           0.151746                0\n",
      "12           0.144927                1\n",
      "13           0.080613                1\n",
      "14           0.126690                1\n",
      "15           0.129401                0\n",
      "16           0.098382                0\n",
      "17           0.131696                1\n",
      "18           0.197162                0\n",
      "19           0.103765                0\n",
      "20           0.111174                1\n",
      "21           0.080018                0\n",
      "22           0.186290                0\n",
      "23           0.129771                1\n",
      "24           0.066368                1\n",
      "25           0.155075                1\n",
      "26           0.049279                1\n",
      "27           0.169447                0\n",
      "28           0.065832                0\n",
      "29           0.103475                0\n",
      "..                ...              ...\n",
      "170          0.222192                1\n",
      "171          0.073103                1\n",
      "172          0.132043                1\n",
      "173          0.054060                1\n",
      "174          0.110292                1\n",
      "175          0.087703                0\n",
      "176          0.254255                1\n",
      "177          0.184662                0\n",
      "178          0.075501                1\n",
      "179          0.148169                1\n",
      "180          0.217828                1\n",
      "181          0.177487                1\n",
      "182          0.097885                0\n",
      "183          0.292526                1\n",
      "184          0.253770                0\n",
      "185          0.277741                0\n",
      "186          0.253572                1\n",
      "187          0.195812                1\n",
      "188          0.132356                1\n",
      "189          0.110904                1\n",
      "190          0.100353                0\n",
      "191          0.144997                1\n",
      "192          0.086653                1\n",
      "193          0.136208                0\n",
      "194          0.098852                1\n",
      "195          0.172530                0\n",
      "196          0.096135                1\n",
      "197          0.133566                0\n",
      "198          0.077178                0\n",
      "199          0.198398                0\n",
      "\n",
      "[200 rows x 2 columns]\n"
     ]
    }
   ],
   "source": [
    "classifier_RM(prototype0,prototype1,test_dt,test_class)\n",
    "#Note that the index is corresponed to the test set index"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python [conda env:py27]",
   "language": "python",
   "name": "conda-env-py27-py"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.14"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
